{% extends "base1.html" %}
{% block base2 %}

{% load static %}
<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <title>Student Ids</title>
    <link rel="stylesheet" type="text/css" href="{% static 'second.css' %}">
    <script>

        function disableBtn(id) {
            document.getElementById(id).disabled = true;
            setTimeout(function(){document.getElementById(id).disabled = false;},10000);
        
        }

        function enableBtn(id) {
            document.getElementById(id).disabled = false;
        }
    </script>
</head>


<body>


<div class="container">
<center>


    <table class="table table-hover" id="mytable">
        <thead class="thead-dark">
            <tr>
                <th>Name</th>
                <th>Roll No.</th>
                <th>Present</th>
                <th>Absent</th>
                <th>Absent Days Count</th>

            </tr>
        </thead>

        {% for i in students %}

            <tr>
            <td>{{i.full_name}}</td>
            <td>{{i.roll}}</td>

            <td>
            <form method='POST'>
                {% csrf_token %}
                {{formp.as_p}}
                <button name="present" type='submit' id="btnp{{i.id}}" class="btn btn-primary" onclick='formp.submit; disableBtn(this.id); enableBtn("btna{{i.id}}")'/>Present</button>&nbsp;
            </form>
            </td>
            <td>
            <form method="POST">
                {% csrf_token %}
                {{forma.as_p}}

                <button name="absent" type='submit' id="btna{{i.id}}" class="btn btn-danger" onclick='forma.submit; disableBtn(this.id); enableBtn("btnp{{i.id}}")'/>Absent</button>&nbsp;
            </form>
            </td>
            <td>
                {{i.absentdayss}} (<small><a href="{% url 'attendance-detail' i.id %}">View Details</small></a>)


            </td>

            </tr>

        {% endfor %}
    </table>




</center>
</div>







</body>
</html>
{% endblock %}
