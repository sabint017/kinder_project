{% extends "base1.html" %}
{% block base2 %}
<div class="jumbotron">
<script>
    var createpost=document.getElementsByName("createpost")
    var posts=document.getElementsByName("posts")


    document.addEventListener('DOMContentLoaded', function(){
        for(i=0;i<posts.length;i++){
            if (posts[i].querySelector('span').textContent =='teacher'){
                posts[i].style.display=''
            }else{
                posts[i].style.display='none'
            }
        }
        if (document.getElementById("usertype").innerText=='teacher'){
                displays1()
            }else{
                displays1('none')
            }
    })
    
    function displays1(i=''){
        for(j=0;j<createpost.length;j++){
            createpost[j].style.display=i
        }
        for(j=0;j<reg.length;j++){
            reg[j].style.display=i
        }

    }
    </script>
    <div>

    <a name="reg" class='btn btn-secondary' href="{% url 'registerchild' %}">Register Children </a>
    <p id="usertype" style="display:none;">{{user.last_name}}</p>
    <a name="createpost" class='btn btn-secondary' href="{% url 'post-create' %}">Create Post</a>
    </div>
    <br>
    {% for post in posts %}
    <div name='posts'>
    <span style="display:none;">{{post.author.last_name}}</span>
        <b><p style="font-size:25px;"><img class="rounded-circle account-img" src="{{ post.author.profile.image.url }}" height = "45px", width="45px">
        {{post.author}}</p></b>
        <small class = "text-muted">{{ post.date_posted|date:"F d, Y"}}</small>

        <div><a href="{% url 'post-detail' post.id %}">
                <h1>{{post.title}}</h1>
            </a>
        </div>
        <div>
        </div>
        <p><b>{{post.content}}</b></p>
        <br>
    </div>
    {% endfor %}


</div>

<!-- Navbar Right Side -->

{% endblock %}